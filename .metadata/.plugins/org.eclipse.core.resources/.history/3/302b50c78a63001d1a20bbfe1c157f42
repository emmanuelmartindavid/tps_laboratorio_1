#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "jugador.h"
#include "validaciones.h"
/// @brief
///
/// @return
sPlayer* newPlayer()
{
	sPlayer *newPlayer = NULL;
	newPlayer = (sPlayer*) malloc(sizeof(sPlayer));

	if (newPlayer != NULL)
	{
		newPlayer->id = 0;
		strcpy(newPlayer->fullName, " ");
		newPlayer->age = 0;
		strcpy(newPlayer->position, " ");
		strcpy(newPlayer->nationality, " ");
		newPlayer->idNationalTeam = 0;
	}
	return newPlayer;
}
/// @brief
///
/// @param idStr
/// @param fullNameStr
/// @param ageStr
/// @param positionStr
/// @param nationalityStr
/// @param idNationalTeamStr
/// @return
sPlayer* newPlayerParameters(char *idStr, char *fullNameStr, char *ageStr, char *positionStr, char *nationalityStr, char *idNationalTeamStr)
{

	sPlayer *auxNewPlayer = newPlayer();

	if (idStr != NULL && fullNameStr != NULL && ageStr != NULL && positionStr != NULL && nationalityStr != NULL && idNationalTeamStr != NULL && auxNewPlayer != NULL)
	{
		if (!(setIdPlayer(auxNewPlayer, atoi(idStr)) && setFullNamePlayer(auxNewPlayer, fullNameStr) && setAgePlayer(auxNewPlayer, atoi(ageStr)) && setPositionPlayer(auxNewPlayer, positionStr) && setNationalityPlayer(auxNewPlayer, nationalityStr) && setIdNationalTeamPlayer(auxNewPlayer, atoi(idNationalTeamStr))))
		{
			deletePlayer(auxNewPlayer);
			auxNewPlayer = NULL;
		}
	}

	return auxNewPlayer;

}
/// @brief
///
/// @param this
void deletePlayer(sPlayer *this)
{

	free(this);

}
/// @brief
///
/// @param this
/// @param id
/// @return
int setIdPlayer(sPlayer *this, int id)
{

	int returnSetIdPlayer = ERROR;

	if (this != NULL && id > 0)
	{
		this->id = id;
		returnSetIdPlayer = SUCCESS;
	}

	return returnSetIdPlayer;
}
/// @brief
///
/// @param this
/// @param id
/// @return
int getIdPlayer(sPlayer *this, int *id)
{

	int returnGetIdPlayer = ERROR;

	if (this != NULL && id != NULL)
	{
		*id = this->id;
		returnGetIdPlayer = SUCCESS;
	}
	return returnGetIdPlayer;
}
/// @brief
///
/// @param this
/// @param fullName
/// @return
int setFullNamePlayer(sPlayer *this, char *fullName)
{

	int returnSetName = ERROR;

	if (this != NULL && fullName != NULL)
	{
		strcpy(this->fullName, fullName);
		returnSetName = SUCCESS;
	}

	return returnSetName;
}
/// @brief
///
/// @param this
/// @param fullName
/// @return
int getFullNamePlayer(sPlayer *this, char *fullName)
{

	int returnGetName = ERROR;

	if (this != NULL && fullName != NULL)
	{
		strcpy(fullName, this->fullName);
		returnGetName = SUCCESS;
	}
	return returnGetName;
}
/// @brief
///
/// @param this
/// @param age
/// @return
int setAgePlayer(sPlayer *this, int age)
{
	int returnSetAgePlayer = ERROR;

	if (this != NULL && age > 0)
	{
		this->age = age;
		returnSetAgePlayer = SUCCESS;
	}

	return returnSetAgePlayer;
}
/// @brief
///
/// @param this
/// @param age
/// @return
int getAgePlayer(sPlayer *this, int *age)
{
	int returnGetAgePlayer = ERROR;

	if (this != NULL && age != NULL)
	{
		*age = this->age;
		returnGetAgePlayer = SUCCESS;
	}
	return returnGetAgePlayer;
}
/// @brief
///
/// @param this
/// @param position
/// @return
int setPositionPlayer(sPlayer *this, char *position)
{

	int returnSetPostionPlayer = ERROR;

	if (this != NULL && position != NULL)
	{
		strcpy(this->position, position);
		returnSetPostionPlayer = SUCCESS;
	}

	return returnSetPostionPlayer;
}
/// @brief
///
/// @param this
/// @param position
/// @return
int getPositionPlayer(sPlayer *this, char *position)
{

	int returnGetPostionPlayer = ERROR;

	if (this != NULL && position != NULL)
	{
		strcpy(position, this->position);
		returnGetPostionPlayer = SUCCESS;
	}

	return returnGetPostionPlayer;
}
/// @brief
///
/// @param this
/// @param nationality
/// @return
int setNationalityPlayer(sPlayer *this, char *nationality)
{

	int returnSetNationalityPlayer = ERROR;

	if (this != NULL && nationality != NULL)
	{
		strcpy(this->nationality, nationality);
		returnSetNationalityPlayer = SUCCESS;
	}

	return returnSetNationalityPlayer;
}
/// @brief
///
/// @param this
/// @param nationality
/// @return
int getNationalityPlayer(sPlayer *this, char *nationality)
{

	int returnGetNationalityPlayer = ERROR;

	if (this != NULL && nationality != NULL)
	{
		strcpy(nationality, this->nationality);
		returnGetNationalityPlayer = SUCCESS;
	}

	return returnGetNationalityPlayer;
}
/// @brief
///
/// @param this
/// @param idNationalTeam
/// @return
int setIdNationalTeamPlayer(sPlayer *this, int idNationalTeam)
{
	int returnSetIdNationalTeamPlayer = ERROR;

	if (this != NULL && idNationalTeam >= 0)
	{
		this->idNationalTeam = idNationalTeam;
		returnSetIdNationalTeamPlayer = SUCCESS;
	}

	return returnSetIdNationalTeamPlayer;
}
/// @brief
///
/// @param this
/// @param idNationalTeam
/// @return
int getIdNationalTeamPLayer(sPlayer *this, int *idNationalTeam)
{
	int returnGetIdNationalTeamPLayer = ERROR;

	if (this != NULL && idNationalTeam != NULL)
	{
		*idNationalTeam = this->idNationalTeam;
		returnGetIdNationalTeamPLayer = SUCCESS;
	}

	return returnGetIdNationalTeamPLayer;
}
/// @brief
///
/// @param this
/// @return
int listOnePlayer(sPlayer *this)
{
	int returncontrollerListOnePlayer = ERROR;
	int auxId;
	char auxFullName[100];
	int auxAge;
	char auxPosition[30];
	char auxNationality[30];

	if (this != NULL)
	{
		if (getIdPlayer(this, &auxId) == SUCCESS && getFullNamePlayer(this, auxFullName) == SUCCESS && getAgePlayer(this, &auxAge) == SUCCESS && getPositionPlayer(this, auxPosition) == SUCCESS && getNationalityPlayer(this, auxNationality) == SUCCESS)
		{
			printf("\t\t\t\t\t\t|%-5d| %-35s| %-5d| %-25s| %-24s|\n", auxId, auxFullName, auxAge, auxPosition, auxNationality);
			returncontrollerListOnePlayer = SUCCESS;
		}
	}
	return returncontrollerListOnePlayer;
}
/// @brief
///
/// @param this
/// @return
int editFullNamePlayer(sPlayer *this)
{
	int returnModifyFullNamePlayer;
	char auxFullName[100];
	if (this != NULL)
	{
		if (utn_getAlphabeticDescription(auxFullName, "Ingrese su nombre.\n", "Error. Reintente.\n", 3, 100, 1) == 0)
		{
			if (setFullNamePlayer(this, auxFullName) == SUCCESS)
			{
				returnModifyFullNamePlayer = SUCCESS;
			}
		}
		else
		{
			returnModifyFullNamePlayer = ERROR;
		}
	}
	return returnModifyFullNamePlayer;
}
/// @brief
///
/// @param this
/// @return
int editAgePlayer(sPlayer *this)
{
	int returnEditAgePlayer;
	int auxAge;
	if (this != NULL)
	{
		if (utn_getNumber(&auxAge, "Ingrese su edad. Rangos entre 18 a 40 anios.\n", "Error. Reintente.\n", 18, 40, 3) == 0)
		{
			if (setAgePlayer(this, auxAge) == SUCCESS)
			{
				returnEditAgePlayer = SUCCESS;
			}
		}
		else
		{
			returnEditAgePlayer = ERROR;
		}
	}
	return returnEditAgePlayer;
}
/// @brief
///
/// @param this
/// @return
int editPositionPlayer(sPlayer *this)
{
	int returnEditPositionPlayer;
	char auxPosition[30];
	if (this != NULL)
	{
		if (utn_getPositionPlayer(auxPosition) == 0)
		{
			if (setPositionPlayer(this, auxPosition) == SUCCESS)
			{
				returnEditPositionPlayer = SUCCESS;
			}
		}
		else
		{
			returnEditPositionPlayer = ERROR;
		}
	}
	return returnEditPositionPlayer;
}
/// @brief
///
/// @param this
/// @return
int editNationalityPlayer(sPlayer *this)
{
	int returnEditNationalityPlayer;
	char auxNationality[30];
	if (this != NULL)
	{
		if (utn_getNationalityPlayer(auxNationality) == 0)
		{
			if (setNationalityPlayer(this, auxNationality) == SUCCESS)
			{
				returnEditNationalityPlayer = SUCCESS;
			}
		}
		else
		{
			returnEditNationalityPlayer = ERROR;
		}
	}
	return returnEditNationalityPlayer;
}
/// @brief
///
/// @param pPlayerOne
/// @param pPlayerTwo
/// @return
int comparePlayersByNationality(void *pPlayerOne, void *pPlayerTwo)
{
	int returnComparePlayersByNationality;
	char nationalityPlayerOne[30];
	char nationalityPlayerTwo[30];

	if (pPlayerOne != NULL && pPlayerTwo != NULL)
	{
		getNationalityPlayer(pPlayerOne, nationalityPlayerOne);
		getNationalityPlayer(pPlayerTwo, nationalityPlayerTwo);
		returnComparePlayersByNationality = stricmp(nationalityPlayerOne, nationalityPlayerTwo);

	}
	return returnComparePlayersByNationality;
}
/// @brief
///
/// @param pPlayerOne
/// @param pPlayerTwo
/// @return
int comparePlayersByAgeAndName(void *pPlayerOne, void *pPlayerTwo)
{
	int returncomparePlayersByAge = 0;
	int agePlayerOne;
	int agePlayerTwo;
	char fullNamePlayerOne[30];
	char fullNamePlayerTwo[30];
	if (pPlayerOne != NULL && pPlayerTwo != NULL)
	{
		getAgePlayer(pPlayerOne, &agePlayerOne);
		getAgePlayer(pPlayerTwo, &agePlayerTwo);

		if (agePlayerOne > agePlayerTwo)
		{
			returncomparePlayersByAge = 1;
		}
		else if (agePlayerOne < agePlayerTwo)
		{
			returncomparePlayersByAge = -1;
		}
		else if (agePlayerOne == agePlayerTwo)
		{
			getFullNamePlayer(pPlayerOne, fullNamePlayerOne);
			getFullNamePlayer(pPlayerTwo, fullNamePlayerTwo);
			returncomparePlayersByAge = stricmp(fullNamePlayerOne, fullNamePlayerTwo);
		}
	}
	return returncomparePlayersByAge;
}
/// @brief
///
/// @param pPlayerOne
/// @param pPlayerTwo
/// @return
int comparePlayersByName(void *pPlayerOne, void *pPlayerTwo)
{
	int returncomparePlayersByName = ERROR;
	char fullNamePlayerOne[30];
	char fullNamePlayerTwo[30];


	if (pPlayerOne != NULL && pPlayerTwo != NULL)
	{
		getFullNamePlayer(pPlayerOne, fullNamePlayerOne);
		getFullNamePlayer(pPlayerTwo, fullNamePlayerTwo);
		returncomparePlayersByName = stricmp(fullNamePlayerOne, fullNamePlayerTwo);

	}
	return returncomparePlayersByName;
}
/// @brief
///
void showPlayerData()
{

	printf("\t\t\t\t\t\t========================================================================================================\n");
	printf("\t\t\t\t\t\t|  ID |               NOMBRE               | EDAD |        POSICION          |   NACIONALIDAD          |\n");
	printf("\t\t\t\t\t\t========================================================================================================\n");

}
/// @brief
///
void showPlayerDataNationalTeam()
{
	printf("\t\t\t\t\t\t=================================================================================================================================\n");
	printf("\t\t\t\t\t\t|  ID |               NOMBRE               | EDAD |        POSICION          |   NACIONALIDAD          |   SELECCION            |\n");
	printf("\t\t\t\t\t\t=================================================================================================================================\n");
}
/// @brief
///
void showLine()
{
	printf("\t\t\t\t\t\t========================================================================================================\n");

}

