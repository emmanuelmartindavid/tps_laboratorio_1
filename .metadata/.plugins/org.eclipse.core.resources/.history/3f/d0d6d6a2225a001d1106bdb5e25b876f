#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "jugador.h"
sPlayer* newPlayer()
{				//Pide memoria dinC!mica e inicializa los datos
	sPlayer *newPlayer = NULL;
	newPlayer = (sPlayer*) malloc(sizeof(sPlayer));

	if (newPlayer != NULL)
	{
		newPlayer->id = 0;
		strcpy(newPlayer->fullName, " ");
		newPlayer->age = 0;
		strcpy(newPlayer->position, " ");
		strcpy(newPlayer->nationality, " ");
		newPlayer->idNationalTeam = 0;
		newPlayer->isEmpty = 0;

	}

	return newPlayer;

}

sPlayer* newPlayerParameters(char *idStr, char *fullNameStr, char *ageStr, char *positionStr, char *nationalityStr, char *idNationalTeamStr)
{
	//Antes de cargar deben validarse los datos
	sPlayer *newPlayer = newPlayer();

	if (newPlayer != NULL)
	{
		if (!(playerSetIdPlayer(newPlayer, idPlayer) && playerSetHiringYears(newPlayer, hiringYears) && playerSetName(newPlayer, pName) && playerSetPostion(newPlayer, pPosition) && playerSetSalary(newPlayer, salary) && playerSetShirtNumber(newPlayer, shirtNumber) && playerSetConfederationId(newPlayer, confederationId)))
		{
			free(newPlayer);
			newPlayer = NULL;	//INDICA FUNCION NO ANDUVO BIEN.
		}
	}

	return newPlayer;

}

int setIdPlayer(sPlayer *this, int id)
{

	int returnSetIdPlayer = ERROR;

	if (this != NULL && idPlayer > 0)
	{
		this->idPlayer = idPlayer;
		returnSetIdPlayer = SUCCESS;
	}

	return returnSetIdPlayer;
}

int getIdPlayer(sPlayer *this, int *id)
{

	int returnGetIdPlayer = ERROR;

	if (this != NULL && pIdPlayer != NULL)
	{
		*pIdPlayer = this->idPlayer;
		returnGetIdPlayer = SUCCESS;
	}

	return returnGetIdPlayer;
}


int playerSetHiringYears(sPlayer *this, short hiringYears)
{
	int returnSetHiringYears = ERROR;

	if (this != NULL && hiringYears > 0)
	{
		this->hiringYears = hiringYears;
		returnSetHiringYears = SUCCESS;
	}

	return returnSetHiringYears;
}

int playerSetName(sPlayer *this, char *pName)
{

	int returnSetName = ERROR;

	if (this != NULL && pName != NULL)
	{
		strcpy(this->name, pName);
		returnSetName = SUCCESS;
	}

	return returnSetName;
}

int playerSetPostion(sPlayer *this, char *pPosition)
{

	int returnSetPostion = ERROR;

	if (this != NULL && pPosition != NULL)
	{
		strcpy(this->position, pPosition);
		returnSetPostion = SUCCESS;
	}

	return returnSetPostion;
}

int playerSetSalary(sPlayer *this, float salary)
{
	int returnSetSalary = ERROR;

	if (this != NULL && salary > 0)
	{
		this->salary = salary;
		returnSetSalary = SUCCESS;
	}

	return returnSetSalary;
}

int playerSetShirtNumber(sPlayer *this, short shirtNumber)
{
	int returnSetShirtNumber = ERROR;

	if (this != NULL && shirtNumber > 0)
	{
		this->shirtNumber = shirtNumber;
		returnSetShirtNumber = SUCCESS;
	}

	return returnSetShirtNumber;
}

int playerSetConfederationId(sPlayer *this, int confederationId)
{
	int returnSetConfederationId = ERROR;

	if (this != NULL && confederationId > 0)
	{
		this->confederationId = confederationId;
		returnSetConfederationId = SUCCESS;
	}

	return returnSetConfederationId;
}

/////GETTERS////
/////GETTERS////

int playerGetHiringYears(sPlayer *this, short *pHiringYears)
{
	int returnGetHiringYears = ERROR;

	if (this != NULL && pHiringYears != NULL)
	{
		*pHiringYears = this->hiringYears;
		returnGetHiringYears = SUCCESS;
	}

	return returnGetHiringYears;
}

int playerGetName(sPlayer *this, char *pName)
{

	int returnGetName = ERROR;

	if (this != NULL && pName != NULL)
	{
		strcpy(pName, this->name);
		returnGetName = SUCCESS;
	}

	return returnGetName;
}

int playerGetPostion(sPlayer *this, char *pPosition)
{

	int returnGetPostion = ERROR;

	if (this != NULL && pPosition != NULL)
	{
		strcpy(pPosition, this->position);
		returnGetPostion = SUCCESS;
	}

	return returnGetPostion;
}

int playerGetSalary(sPlayer *this, float *pSalary)
{
	int returnGetSalary = ERROR;

	if (this != NULL && pSalary != NULL)
	{
		*pSalary = this->salary;
		returnGetSalary = SUCCESS;
	}

	return returnGetSalary;
}

int playerGetShirtNumber(sPlayer *this, short *pShirtNumber)
{
	int returnGetShirtNumber = ERROR;

	if (this != NULL && pShirtNumber != NULL)
	{
		*pShirtNumber = this->shirtNumber;
		returnGetShirtNumber = SUCCESS;
	}

	return returnGetShirtNumber;
}

int playerGetConfederationId(sPlayer *this, int *pConfederationId)
{
	int returnGetConfederationId = ERROR;

	if (this != NULL && pConfederationId != NULL)
	{
		*pConfederationId = this->confederationId;
		returnGetConfederationId = SUCCESS;
	}

	return returnGetConfederationId;
}

