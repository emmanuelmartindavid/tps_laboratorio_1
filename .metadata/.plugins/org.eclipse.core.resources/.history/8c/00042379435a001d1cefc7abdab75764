#include <stdio.h>
#include <stdlib.h>
#include "LinkedList.h"
#include "Jugador.h"
#include "Seleccion.h"

/** \brief Parsea los datos de los jugadores desde el archivo jugadores.csv (modo texto).
 *
 * \param path char*
 * \param pArrayListJugador LinkedList*
 * \return int
 */
int parser_JugadorFromText(FILE* pFile , LinkedList* pArrayListJugador)
{


	int returnparserPLayerFromText = ERROR;
	    char auxIdPlayer[2000];
	    char auxName[2000];
	    char auxPosition[2000];
	    char auxSalary[2000];
	    char auxShirtNumber[2000];
	    char auxConfederationId[2000];

	    int auxLegajoInt;
	    float auxSueldoFlo;
	    Jugador* pPlayer;
	    int retornoVariable;

	    if(pFile!=NULL && players !=NULL)
	    {
	        //fscanf lee el archivo.
	        fscanf(pFile,"%[^,],%[^,],%[^,],%[^,],%[^\n]", auxIdPlayer,auxName,auxPosition,auxsueldo); //LECTURA FANTASMA
	        do{
	            retornoVariable = fscanf(pArchivo,"%[^,],%[^,],%[^,],%[^,],%[^\n]",auxlegajo,auxnombre,auxsexo,auxsueldo);
	            if(retornoVariable == 4)
	            {
	                auxLegajoInt = atoi(auxlegajo);
	                auxSueldoFlo = atof(auxsueldo);

	               pEmpleado = newEmpleadoParam(auxLegajoInt, auxnombre, auxsexo, auxSueldoFlo);

	               if(pEmpleado != NULL){

	                   //ACA LLAMO A LA FUNCION QUE ASIGNA MI PUNTERO EMPLEADO, AL ARRAY DE PUNTEROS EMPLEADOS.
	               }
	               returnparserPLayerFromText = SUCCESS;
	            }else{

	                retorno = 0;
	                break; //si no leyo 4 variables break. se rompe
	            }

	        }while(!feof(pFile));
	    }






    return 1;
}

/** \brief Parsea los datos de los jugadores desde el archivo binario.
 *
 * \param path char*
 * \param pArrayListJugador LinkedList*
 * \return int
 *
 */
int parser_JugadorFromBinary(FILE* pFile , LinkedList* pArrayListJugador)
{
    return 1;
}


/** \brief Parsea los datos de los selecciones desde el archivo selecciones.csv (modo texto).
 *
 * \param path char*
 * \param pArrayListSeleccion LinkedList*
 * \return int
 *
 */
int parser_SeleccionFromText(FILE* pFile , LinkedList* pArrayListSeleccion)
{
    return 1;
}

